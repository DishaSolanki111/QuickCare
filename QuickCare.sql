CREATE TABLE specialisation_tbl (
  SPECIALISATION_ID INT NOT NULL AUTO_INCREMENT,
  SPECIALISATION_NAME VARCHAR(50),
  PRIMARY KEY (SPECIALISATION_ID)
);


CREATE TABLE doctor_tbl (
  DOCTOR_ID INT NOT NULL AUTO_INCREMENT,
  SPECIALISATION_ID INT NOT NULL,
  PROFILE_IMAGE VARCHAR(255),
  FIRST_NAME VARCHAR(20) ,
  LAST_NAME VARCHAR(20) ,
  DOB DATE  ,
  DOJ DATE ,
  USERNAME VARCHAR(20) ,
  PSWD VARCHAR(60) ,
  PHONE BIGINT,
  EMAIL VARCHAR(50) ,
  GENDER ENUM('MALE','FEMALE','OTHER') ,
  PRIMARY KEY (DOCTOR_ID),
  UNIQUE (USERNAME),
  UNIQUE (PHONE),
  UNIQUE (EMAIL),
  FOREIGN KEY (SPECIALISATION_ID) REFERENCES specialisation_tbl(SPECIALISATION_ID)
);

CREATE TABLE patient_tbl (
  PATIENT_ID INT NOT NULL AUTO_INCREMENT,
  FIRST_NAME VARCHAR(20) ,
  LAST_NAME VARCHAR(20) ,
  USERNAME VARCHAR(20) ,
  PSWD VARCHAR(60) ,
  DOB DATE ,
  GENDER ENUM('MALE','FEMALE','OTHER') ,
  BLOOD_GROUP ENUM('A+','A-','B+','B-','O+','O-','AB+','AB-'),
  PHONE BIGINT ,
  EMAIL VARCHAR(50) ,
  ADDRESS TEXT ,
  PRIMARY KEY (PATIENT_ID),
  UNIQUE (USERNAME),
  UNIQUE (PHONE),
  UNIQUE (EMAIL)
);

CREATE TABLE receptionist_tbl (
  RECEPTIONIST_ID INT NOT NULL AUTO_INCREMENT,
  FIRST_NAME VARCHAR(20) ,
  LAST_NAME VARCHAR(20) ,
  DOB DATE ,
  DOJ DATE,
  GENDER ENUM('MALE','FEMALE','OTHER') ,
  PHONE BIGINT ,
  EMAIL VARCHAR(50) ,
  ADDRESS TEXT ,
  USERNAME VARCHAR(20) ,
  PSWD VARCHAR(60) ,
  PRIMARY KEY (RECEPTIONIST_ID),
  UNIQUE (PHONE),
  UNIQUE (EMAIL),
  UNIQUE (USERNAME)
);


CREATE TABLE doctor_schedule_tbl (
  SCHEDULE_ID INT NOT NULL AUTO_INCREMENT,
  DOCTOR_ID INT NOT NULL,
  RECEPTIONIST_ID INT NOT NULL,
  START_TIME TIME ,
  END_TIME TIME ,
  AVAILABLE_DAY ENUM('MON','TUE','WED','THUR','FRI','SAT','SUN') ,
  PRIMARY KEY (SCHEDULE_ID),
  FOREIGN KEY (DOCTOR_ID) REFERENCES doctor_tbl(DOCTOR_ID),
  FOREIGN KEY (RECEPTIONIST_ID) REFERENCES receptionist_tbl(RECEPTIONIST_ID)
);


CREATE TABLE appointment_tbl (
  APPOINTMENT_ID INT NOT NULL AUTO_INCREMENT,
  PATIENT_ID INT NOT NULL,
  DOCTOR_ID INT NOT NULL,
  SCHEDULE_ID INT NOT NULL,
  CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  APPOINTMENT_DATE DATE ,
  APPOINTMENT_TIME TIME ,
  STATUS ENUM('SCHEDULED','COMPLETED','CANCELLED'),
  PRIMARY KEY (APPOINTMENT_ID),
  FOREIGN KEY (PATIENT_ID) REFERENCES patient_tbl(PATIENT_ID),
  FOREIGN KEY (DOCTOR_ID) REFERENCES doctor_tbl(DOCTOR_ID),
  FOREIGN KEY (SCHEDULE_ID) REFERENCES doctor_schedule_tbl(SCHEDULE_ID)
);


CREATE TABLE prescription_tbl (
  PRESCRIPTION_ID INT NOT NULL AUTO_INCREMENT,
  APPOINTMENT_ID INT NOT NULL,
  ISSUE_DATE DATE ,
  HEIGHT_CM INT ,
  WEIGHT_KG DECIMAL(5,2) ,
  BLOOD_PRESSURE SMALLINT,
  DIABETES ENUM('NO','TYPE-1','TYPE-2','PRE-DIABTIC'),
  SYMPTOMS TEXT ,
  DIAGNOSIS TEXT ,
  ADDITIONAL_NOTES TEXT,
  CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (PRESCRIPTION_ID),
  FOREIGN KEY (APPOINTMENT_ID) REFERENCES appointment_tbl(APPOINTMENT_ID)
);


CREATE TABLE medicine_tbl (
  MEDICINE_ID INT NOT NULL AUTO_INCREMENT,
  RECEPTIONIST_ID INT NOT NULL,
  MED_NAME VARCHAR(25),
  DESCRIPTION TEXT,
  PRIMARY KEY (MEDICINE_ID),
  FOREIGN KEY (RECEPTIONIST_ID) REFERENCES receptionist_tbl(RECEPTIONIST_ID)
);


CREATE TABLE prescription_medicine_tbl (
  PRESCRIPTION_ID INT NOT NULL,
  MEDICINE_ID INT NOT NULL,
  DOSAGE VARCHAR(30) ,
  DURATION VARCHAR(30),
  FREQUENCY VARCHAR(30),
  CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (PRESCRIPTION_ID, MEDICINE_ID),
  FOREIGN KEY (PRESCRIPTION_ID) REFERENCES prescription_tbl(PRESCRIPTION_ID),
  FOREIGN KEY (MEDICINE_ID) REFERENCES medicine_tbl(MEDICINE_ID)
);


CREATE TABLE payment_tbl (
  PAYMENT_ID INT NOT NULL AUTO_INCREMENT,
  APPOINTMENT_ID INT NOT NULL,
  AMOUNT DECIMAL(10,2) ,
  PAYMENT_DATE DATE ,
  PAYMENT_MODE ENUM('CREDIT CARD','GOOGLE PAY','UPI','NET BANKING') ,
  STATUS ENUM('COMPLETED','FAILED') ,
  TRANSACTION_ID VARCHAR(36) ,
  PRIMARY KEY (PAYMENT_ID),
  UNIQUE (TRANSACTION_ID),
  FOREIGN KEY (APPOINTMENT_ID) REFERENCES appointment_tbl(APPOINTMENT_ID)
);


CREATE TABLE feedback_tbl (
  FEEDBACK_ID INT NOT NULL AUTO_INCREMENT,
  APPOINTMENT_ID INT NOT NULL,
  RATING INT ,
  COMMENTS VARCHAR(255),
  PRIMARY KEY (FEEDBACK_ID),
  FOREIGN KEY (APPOINTMENT_ID) REFERENCES appointment_tbl(APPOINTMENT_ID)
);


CREATE TABLE medicine_reminder_tbl (
  MEDICINE_REMINDER_ID INT NOT NULL AUTO_INCREMENT,
  MEDICINE_ID INT NOT NULL,
  CREATOR_ROLE ENUM('PATIENT','RECEPTIONIST') ,
  CREATOR_ID INT NOT NULL,
  PATIENT_ID INT NOT NULL,
  REMINDER_TIME TIME ,
  REMARKS TEXT,
  PRIMARY KEY (MEDICINE_REMINDER_ID),
  FOREIGN KEY (MEDICINE_ID) REFERENCES medicine_tbl(MEDICINE_ID),
  FOREIGN KEY (PATIENT_ID) REFERENCES patient_tbl(PATIENT_ID)
);


CREATE TABLE appointment_reminder_tbl (
  APPOINTMENT_REMINDER_ID INT NOT NULL AUTO_INCREMENT,
  RECEPTIONIST_ID INT NOT NULL,
  APPOINTMENT_ID INT NOT NULL,
  REMINDER_TIME TIME ,
  REMARKS TEXT,
  PRIMARY KEY (APPOINTMENT_REMINDER_ID),
  FOREIGN KEY (RECEPTIONIST_ID) REFERENCES receptionist_tbl(RECEPTIONIST_ID),
  FOREIGN KEY (APPOINTMENT_ID) REFERENCES appointment_tbl(APPOINTMENT_ID)
);



INSERT INTO specialisation_tbl (SPECIALISATION_NAME) VALUES
('Pediatrician'),
('Cardiologist'),
('Orthopedics'),
('Neurologists');



INSERT INTO doctor_tbl
(SPECIALISATION_ID, PROFILE_IMAGE, FIRST_NAME, LAST_NAME, DOB, DOJ, USERNAME, PSWD, PHONE, EMAIL, GENDER)
VALUES
(1,'uploads/doc1.jpg','Amit','Shah','1980-05-10','2010-01-01','doc1','pass',9000000001,'doc1@hms.com','MALE'),
(1,'uploads/doc2.jpg','Rina','Mehta','1982-06-12','2011-02-01','doc2','pass',9000000002,'doc2@hms.com','FEMALE'),
(2,'uploads/doc3.jpg','Rahul','Verma','1979-03-15','2009-03-01','doc3','pass',9000000003,'doc3@hms.com','MALE'),
(2,'uploads/doc4.jpg','Neha','Patel','1985-09-20','2012-04-01','doc4','pass',9000000004,'doc4@hms.com','FEMALE'),
(3,'uploads/doc5.jpg','Kunal','Joshi','1981-01-11','2010-05-01','doc5','pass',9000000005,'doc5@hms.com','MALE'),
(3,'uploads/doc6.jpg','Pooja','Iyer','1984-12-25','2013-06-01','doc6','pass',9000000006,'doc6@hms.com','FEMALE'),
(4,'uploads/doc7.jpg','Ankit','Rao','1978-08-18','2008-07-01','doc7','pass',9000000007,'doc7@hms.com','MALE'),
(4,'uploads/doc8.jpg','Sneha','Kulkarni','1986-02-10','2014-08-01','doc8','pass',9000000008,'doc8@hms.com','FEMALE'),
(1,'uploads/doc9.jpg','Vikas','Malik','1983-11-05','2011-09-01','doc9','pass',9000000009,'doc9@hms.com','MALE'),
(2,'uploads/doc10.jpg','Isha','Kapoor','1987-07-07','2015-10-01','doc10','pass',9000000010,'doc10@hms.com','FEMALE');



INSERT INTO patient_tbl
(FIRST_NAME, LAST_NAME, USERNAME, PSWD, DOB, GENDER, BLOOD_GROUP, PHONE, EMAIL, ADDRESS)
VALUES
('P1','Test','p1','pass','2000-01-01','MALE','O+',9100000001,'p1@gmail.com','City'),
('P2','Test','p2','pass','2000-02-01','FEMALE','A+',9100000002,'p2@gmail.com','City'),
('P3','Test','p3','pass','2000-03-01','MALE','B+',9100000003,'p3@gmail.com','City'),
('P4','Test','p4','pass','2000-04-01','FEMALE','AB+',9100000004,'p4@gmail.com','City'),
('P5','Test','p5','pass','2000-05-01','MALE','O-',9100000005,'p5@gmail.com','City'),
('P6','Test','p6','pass','2000-06-01','FEMALE','A-',9100000006,'p6@gmail.com','City'),
('P7','Test','p7','pass','2000-07-01','MALE','B-',9100000007,'p7@gmail.com','City'),
('P8','Test','p8','pass','2000-08-01','FEMALE','AB-',9100000008,'p8@gmail.com','City'),
('P9','Test','p9','pass','2000-09-01','MALE','O+',9100000009,'p9@gmail.com','City'),
('P10','Test','p10','pass','2000-10-01','FEMALE','A+',9100000010,'p10@gmail.com','City');



INSERT INTO receptionist_tbl
(FIRST_NAME, LAST_NAME, DOB, DOJ, GENDER, PHONE, EMAIL, ADDRESS, USERNAME, PSWD)
VALUES
('R1','Staff','1990-01-01','2018-01-01','MALE',9200000001,'r1@hms.com','City','r1','pass'),
('R2','Staff','1990-02-01','2018-01-01','FEMALE',9200000002,'r2@hms.com','City','r2','pass'),
('R3','Staff','1990-03-01','2018-01-01','MALE',9200000003,'r3@hms.com','City','r3','pass'),
('R4','Staff','1990-04-01','2018-01-01','FEMALE',9200000004,'r4@hms.com','City','r4','pass'),
('R5','Staff','1990-05-01','2018-01-01','MALE',9200000005,'r5@hms.com','City','r5','pass'),
('R6','Staff','1990-06-01','2018-01-01','FEMALE',9200000006,'r6@hms.com','City','r6','pass'),
('R7','Staff','1990-07-01','2018-01-01','MALE',9200000007,'r7@hms.com','City','r7','pass'),
('R8','Staff','1990-08-01','2018-01-01','FEMALE',9200000008,'r8@hms.com','City','r8','pass'),
('R9','Staff','1990-09-01','2018-01-01','MALE',9200000009,'r9@hms.com','City','r9','pass'),
('R10','Staff','1990-10-01','2018-01-01','FEMALE',9200000010,'r10@hms.com','City','r10','pass');



INSERT INTO doctor_schedule_tbl
(DOCTOR_ID, RECEPTIONIST_ID, START_TIME, END_TIME, AVAILABLE_DAY)
VALUES
(1,1,'09:00','12:00','MON'),
(2,2,'09:00','12:00','TUE'),
(3,3,'09:00','12:00','WED'),
(4,4,'09:00','12:00','THUR'),
(5,5,'09:00','12:00','FRI'),
(6,6,'10:00','13:00','SAT'),
(7,7,'10:00','13:00','MON'),
(8,8,'10:00','13:00','TUE'),
(9,9,'11:00','14:00','WED'),
(10,10,'11:00','14:00','THUR');



INSERT INTO appointment_tbl
(PATIENT_ID, DOCTOR_ID, SCHEDULE_ID, APPOINTMENT_DATE, APPOINTMENT_TIME, STATUS)
VALUES
(1,1,1,'2025-01-01','09:30','COMPLETED'),
(1,1,1,'2025-01-10','09:30','SCHEDULED'),

(2,2,2,'2025-01-02','09:30','COMPLETED'),
(2,2,2,'2025-01-12','09:30','SCHEDULED'),

(3,3,3,'2025-01-03','09:30','COMPLETED'),
(3,3,3,'2025-01-13','09:30','SCHEDULED'),

(4,4,4,'2025-01-04','09:30','COMPLETED'),
(4,4,4,'2025-01-14','09:30','SCHEDULED'),

(5,5,5,'2025-01-05','09:30','COMPLETED'),
(5,5,5,'2025-01-15','09:30','SCHEDULED');



